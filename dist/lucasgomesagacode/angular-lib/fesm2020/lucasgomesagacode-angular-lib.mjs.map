{"version":3,"file":"lucasgomesagacode-angular-lib.mjs","sources":["../../../../projects/lucasgomesagacode/angular-lib/src/lib/services/modal.service.ts","../../../../projects/lucasgomesagacode/angular-lib/src/lib/modal/modal.component.ts","../../../../projects/lucasgomesagacode/angular-lib/src/lib/modal/modal.component.html","../../../../projects/lucasgomesagacode/angular-lib/src/lib/angular-lib.module.ts","../../../../projects/lucasgomesagacode/angular-lib/src/public-api.ts","../../../../projects/lucasgomesagacode/angular-lib/src/lucasgomesagacode-angular-lib.ts"],"sourcesContent":["import { Injectable } from '@angular/core';\nimport { BehaviorSubject } from 'rxjs';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class ModalService {\n\n  private transitionData: boolean = false;\n  private stateData = new BehaviorSubject<any>({ modalState: false, action: false, component: null });\n  private modalContentData: any;\n  private componentData: any = null;\n\n  get transition() {\n    return this.transitionData;\n  }\n\n  get state() {\n    return this.stateData;\n  }\n\n  get component() {\n    return this.componentData;\n  }\n\n  get modalContent() {\n    return this.modalContentData;\n  }\n\n  constructor() {\n    const that = this;\n    document.onkeyup = function (evt: any) {\n      evt = evt || window.event;\n      if (evt.keyCode == 27 && that.state.value.modalState === true) {\n        that.close(false);\n      }\n    };\n  }\n\n  setTransition(state: boolean) {\n    this.transitionData = state;\n  }\n\n  open(component: any, options?: { content: any }) {\n    this.setModalContent(options?.content);\n    this.stateData.next({ modalState: true, action: null, component: null });\n    this.componentData = component;\n    console.log(this.component);\n    console.log(this.modalContent);\n\n\n  }\n\n  close(action: boolean | string, component: any = null) {\n    this.setTransition(false);\n    setTimeout(() => {\n      // parâmetro action define se o usuário cancelou ou afirmou ao fechar o modal. false === cancelou, true === afirmou\n      this.stateData.next({ modalState: false, action, component });\n      this.componentData = null;\n      this.stateData = new BehaviorSubject({ modalState: false, action: false, component });\n    }, 100);\n  }\n\n  setModalContent(content: any) {\n    this.modalContentData = content;\n  }\n\n}\n","import { Component, Input, OnInit } from '@angular/core';\nimport { ModalService } from '../services/modal.service';\n\n@Component({\n  selector: 'lib-modal',\n  templateUrl: './modal.component.html',\n  styleUrls: ['./modal.component.scss']\n})\nexport class ModalComponent implements OnInit {\n\n  @Input() component: any = null;\n  @Input() modalContent: any = null;\n  get transition() {\n    return this.modalService.transition;\n  }\n\n  constructor(private modalService: ModalService) {\n    window.addEventListener('click', (e: any) => {\n      if (!e) return;\n      if (document.getElementById('clickbox') && !document.getElementById('clickbox')?.contains(e.target) && this.modalContent?.backdropClick) {\n        this.close()\n      }\n    });\n  }\n\n  ngOnInit(): void {\n    setTimeout(() => {\n      this.modalService.setTransition(true);\n      console.log(this.component);\n\n    }, 1);\n  }\n\n  close() {\n    if (this.transition) {\n      this.modalService.close(false);\n    }\n  }\n\n}\n","<main [ngClass]=\"{'side-slide': modalContent?.sideSlide}\">\n    <div id=\"clickbox\" class=\"modal-content {{modalContent?.class}}\"\n        [ngStyle]=\"{'width': modalContent?.sideSlide ? '680px' : ''}\" [ngClass]=\"{'transition': transition}\">\n        <ng-container *ngComponentOutlet=\"component\"></ng-container>\n    </div>\n</main>","import { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\nimport { ModalComponent } from './modal/modal.component';\n\n@NgModule({\n  declarations: [\n    ModalComponent\n  ],\n  imports: [\n    CommonModule\n  ],\n  exports: [\n    ModalComponent\n  ]\n})\nexport class AngularLibModule { }\n","/*\n * Public API Surface of angular-lib\n */\n\nexport * from './lib/modal/modal.component';\nexport * from './lib/services/modal.service';\nexport * from './lib/angular-lib.module';\n\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public-api';\n"],"names":["i1.ModalService"],"mappings":"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"}